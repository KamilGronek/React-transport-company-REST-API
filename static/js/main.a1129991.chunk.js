(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(41)},29:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),c=(a(29),a(5)),i=a(6),o=a(4),m=a(3),u=a(7),d=a(1),h=(a(30),a(31),a(32),a(33),a(2)),p=a(8),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(){a.setState({user:{},accessToken:null})},a.handleLogout=a.handleLogout.bind(Object(d.a)(Object(d.a)(a))),a.state={user:{},accessToken:a.props.accessToken},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/current-user/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({user:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.user,t=e.name,a=e.email,n=e.role;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{padding:"0 30 0 30"}},r.a.createElement(h.b,{className:"navbar-brand",to:"#"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"images/logo.png",style:{width:200},alt:""}))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(h.b,{className:"nav-link dropdown-toggle",to:"/user",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"User"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(h.b,{className:"dropdown-item",to:"/user"},"User list"),"ROLE_ADMIN"===n?r.a.createElement(h.b,{className:"dropdown-item",to:"/user/new"},"Create new"):"")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(h.b,{className:"nav-link dropdown-toggle",to:"/user/user-order",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"User Order"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(h.b,{className:"dropdown-item",to:"/user/user-order"},"User order list"),r.a.createElement(h.b,{className:"dropdown-item",to:"/user/user-order/new"},"User order new"))),"ROLE_ADMIN"===n?r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(h.b,{className:"nav-link dropdown-toggle",to:"/user/courier",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Courier"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(h.b,{className:"dropdown-item",to:"/user/courier"},"Courier list"),r.a.createElement(h.b,{className:"dropdown-item",to:"/user/courier/new"},"Create new"))):"",r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(h.b,{className:"nav-link dropdown-toggle",to:"/courier-order",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Courier Order"),"ROLE_ADMIN"===n?r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(h.b,{className:"dropdown-item",to:"/user/courier-order"},"list for all")):"","ROLE_COURIER"===n?r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(h.b,{className:"dropdown-item",to:"/user/courier-order"},"list for current courier")):""),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link disabled",to:"#"},r.a.createElement("i",null,"Name & Surname: ",r.a.createElement("strong",null,t)))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link disabled",to:"#"},r.a.createElement("i",null,"E-mail: ",r.a.createElement("strong",null,a))," ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link disabled",to:"#"},r.a.createElement("i",null,"Role: ",r.a.createElement("strong",null,n)," ")))),r.a.createElement(h.b,{to:"/login",onClick:this.handleLogout},"logout")))}}]),t}(n.Component),b=a(23),f=(a(40),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.state={email:"",password:"",accessToken:"",errors:{errorsEmail:!1,errorsPassword:!1}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({email:"",password:"",accessToken:""})}},{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(b.a)({},a,t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify({grant_type:"password",client_id:"1_5w8zrdasdafr4tregd454cw0c0kswcgs0oks40s",username:this.state.email,password:this.state.password,client_secret:"sdgggskokererg4232404gc4csdgfdsgf8s8ck5s"});fetch("http://localhost:8000/oauth/v2/token",{method:"post",body:a,headers:new Headers({"Content-Type":"application/json"})}).then(function(e){if(200===e.status)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(e){t.props.setAccessToken(e.access_token),t.props.history.push("/user")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{style:{borderRadius:"10px"},className:"m-5 border bg-light mx-auto col-xl-4 col-lg-4 col-sm-6  col-10 offset-xl-4 offset-lg-4 offset-sm-3 offset-1",onSubmit:this.handleSubmit},r.a.createElement("div",{className:" p-3 logo d-flex justify-content-center"},r.a.createElement("img",{src:"images/logo.png",style:{width:200},alt:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},r.a.createElement("b",null,"E-mail address:")),r.a.createElement("input",{type:"email",name:"email",id:"inputEmail",className:"form-control",placeholder:"E-mail address",required:!0,autoFocuss:!0,onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},r.a.createElement("b",null,"Password:")),r.a.createElement("input",{type:"password",name:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,onChange:this.handleChange,value:this.state.password})),this.state.errors.errorsEmail&&r.a.createElement("span",{style:{color:"red"}},this.messages.email_incorrect),r.a.createElement("br",null),this.state.errors.errorsPassword&&r.a.createElement("span",{style:{color:"red"}},this.messages.password_incorrect),r.a.createElement("div",{className:"checkbox mb-3"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"remember-me"})," Remember me")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Sign in")),r.a.createElement("br",null))))}}]),t}(n.Component)),g=function(){return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Surname"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"PhoneNumber"),r.a.createElement("th",null,"E-mail"),r.a.createElement("th",null,"Actions")))},v=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.name,n=e.surname,l=e.role,s=e.phone_number,c=e.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,r.a.createElement(h.b,{to:{pathname:"/user/show",id:t}},"show"),r.a.createElement("br",null),r.a.createElement(h.b,{to:{pathname:"/user/edit",id:t}},"edit")))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={users:[],user:{}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({users:t})}).catch(function(e){return console.log(e)}),this.getUserRole()}},{key:"getUserRole",value:function(){var e=this;fetch("http://localhost:8000/api/current-user/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({user:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.users,t=this.state.user.role;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"User list")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm"},r.a.createElement(g,null),e.map(function(e){return r.a.createElement(v,{key:e.id,user:e})})),"ROLE_ADMIN"===t?r.a.createElement("div",{className:"text-center"},r.a.createElement(h.b,{to:"/user/new"},"Create new")):""))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleErrorForm=function(e){var t=a.state.error;console.log(e.form.children.confirmPassword.children.first),e.form.children.confirmPassword.children.first.hasOwnProperty("errors")?t.confirmPasswordFirst[0]=e.form.children.confirmPassword.children.first.errors[0]:t.confirmPasswordFirst=[],e.form.children.email.hasOwnProperty("errors")?t.email[0]=e.form.children.email.errors[0]:t.email=[],a.setState({error:t})},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword=a.handleChangeConfirmPassword.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword2=a.handleChangeConfirmPassword2.bind(Object(d.a)(Object(d.a)(a))),a.state={user:{name:"",surname:"",confirmPassword:{first:"",second:""},phoneNumber:"",email:""},error:{confirmPasswordFirst:[],email:[]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChangeBase",value:function(e){console.log(this.state);var t=e.target.value,a=e.target.name,n=this.state.user;n[a]=t,this.setState({user:n}),console.log(this.state)}},{key:"handleChangeConfirmPassword",value:function(e){var t=e.target.value,a=this.state.user;a.confirmPassword.first=t,a.confirmPassword.second=this.state.user.confirmPassword.second,console.log(this.state),this.setState({user:a})}},{key:"handleChangeConfirmPassword2",value:function(e){var t=e.target.value,a=this.state.user;a.confirmPassword.first=this.state.user.confirmPassword.first,a.confirmPassword.second=t,this.setState({user:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.user);fetch("http://localhost:8000/api/user/new",{method:"post",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(201===e.status)return t.props.history.push("/user"),e;if(400===e.status)return e.json().then(function(e){t.handleErrorForm(e)});throw new Error("Something went wrong ...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:30}},"Create new User"),r.a.createElement("div",{className:"d-flex justify-content-center",style:{paddingTop:30,paddingLeft:30,paddingRight:30}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"user"},"Name"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"surname"},"Surname"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"surname",name:"surname",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"first",onChange:this.handleChangeConfirmPassword})))),0===this.state.error.confirmPasswordFirst.length?"":r.a.createElement("span",{style:{color:"red"}},this.state.error.confirmPasswordFirst[0]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"second",onChange:this.handleChangeConfirmPassword2})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone Number"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"email"},"E-mail"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:this.handleChangeBase})))),0===this.state.error.email.length?"":r.a.createElement("span",{style:{color:"red"}},this.state.error.email[0]),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Save")))),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(h.b,{to:"/user",style:{textAlign:"center"}},"back to list"),r.a.createElement(h.b,{to:"/login",style:{textAlign:"center"}},"logout"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleClickDelete=a.handleClickDelete.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClickDelete",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:8000/api/user/"+this.props.id,{method:"delete",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(204===e.status)return e;throw new Error("Something went wrong...")}).then(function(e){t.props.history.push("/user")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.handleClickDelete},"delete")}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.surname,n=e.confirmPassword,l=e.confirmPassword2,s=e.phoneNumber,c=e.email;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:30}},"Edit User"),r.a.createElement("div",{className:"d-flex justify-content-center",style:{paddingTop:30,paddingLeft:30,paddingRight:30}},r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"user"},"Name"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"name",name:"name",value:t,onChange:this.props.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"surname"},"Surname"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"surname",name:"surname",value:a,onChange:this.props.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"first",value:n,onChange:this.props.handleChangeConfirmPassword})))),0===this.props.error.confirmPasswordFirst.length?"":r.a.createElement("span",{style:{color:"red"}},this.props.error.confirmPasswordFirst[0]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"second",value:l,onChange:this.props.handleChangeConfirmPassword2})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone Number"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:s,onChange:this.props.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"email"},"E-mail"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"email",id:"email",name:"email",value:c,onChange:this.props.handleChangeBase})))),0===this.props.error.email.length?"":r.a.createElement("span",{style:{color:"red"}},this.props.error.email[0]),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Update")),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(h.b,{to:"/user",style:{textAlign:"center"}},"back to list"),r.a.createElement(w,Object.assign({},this.props,{accessToken:this.props.accessToken,id:this.props.id})))))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleErrorForm=function(e){var t=a.state.error;console.log(e.form.children.confirmPassword.children.first),e.form.children.confirmPassword.children.first.hasOwnProperty("errors")?t.confirmPasswordFirst[0]=e.form.children.confirmPassword.children.first.errors[0]:t.confirmPasswordFirst=[],e.form.children.email.hasOwnProperty("errors")?t.email[0]=e.form.children.email.errors[0]:t.email=[],a.setState({error:t})},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword=a.handleChangeConfirmPassword.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword2=a.handleChangeConfirmPassword2.bind(Object(d.a)(Object(d.a)(a))),a.state={user:{name:"",surname:"",confirmPassword:{first:"",second:""},phoneNumber:"",email:""},error:{confirmPasswordFirst:[],email:[]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({user:{name:t.name,surname:t.surname,confirmPassword:{first:t.password,second:t.password},phoneNumber:t.phone_number,email:t.email_canonical}})}).catch(function(e){return console.log(e)})}},{key:"handleChangeBase",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.user;n[a]=t,this.setState({user:n})}},{key:"handleChangeConfirmPassword",value:function(e){var t=e.target.value,a=this.state.user;a.confirmPassword.first=t,this.setState({user:a})}},{key:"handleChangeConfirmPassword2",value:function(e){var t=e.target.value,a=this.state.user;a.confirmPassword.second=t,this.setState({user:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.user);fetch("http://localhost:8000/api/user/"+this.props.location.id+"/edit",{method:"put",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(200===e.status)return t.props.history.push("/user"),e;if(400===e.status)return e.json().then(function(e){t.handleErrorForm(e)});throw new Error("Something went wrong...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log(this.state.error.email),r.a.createElement(C,Object.assign({},this.props,{accessToken:this.props.accessToken,handleSubmit:this.handleSubmit,handleChangeBase:this.handleChangeBase,handleChangeConfirmPassword:this.handleChangeConfirmPassword,handleChangeConfirmPassword2:this.handleChangeConfirmPassword2,name:this.state.user.name,surname:this.state.user.surname,confirmPassword:this.state.user.confirmPassword.first,confirmPassword2:this.state.user.confirmPassword.second,phoneNumber:this.state.user.phoneNumber,email:this.state.user.email,id:this.props.location.id,error:this.state.error}))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:{}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({user:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.user,t=e.id,a=e.name,n=e.surname,l=e.role,s=e.phone_number,c=e.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"User show")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm"},r.a.createElement(g,null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,r.a.createElement(h.b,{to:"/user"}," back to list "),r.a.createElement(h.b,{to:{pathname:"/user/edit",id:t}},"edit"),r.a.createElement(w,Object.assign({},this.props,{accessToken:this.props.accessToken,id:this.props.location.id}))))))))}}]),t}(n.Component),k=function(){return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Comments"),r.a.createElement("th",null,"Headquarters"),r.a.createElement("th",null,"Package "),r.a.createElement("th",null,"SenderDetails"),r.a.createElement("th",null,"RecipientDetails"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Courier"),r.a.createElement("th",null,"Actions")))},S=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.userOrder,t=e.id,a=e.number,n=e.description,l=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,this.props.userOrder.headquarters.name),r.a.createElement("td",null," ","weigth: ",this.props.userOrder.package.weight,"width:",this.props.userOrder.package.width,"height:",this.props.userOrder.package.height,"length: ",this.props.userOrder.package.length),r.a.createElement("td",null,this.props.userOrder.sender_details.name),r.a.createElement("td",null,this.props.userOrder.recipient_details.name),r.a.createElement("td",null,this.props.userOrder.status),null===this.props.userOrder.courier?r.a.createElement("span",{style:{color:"red"}}," courier expired"):this.props.userOrder.courier.user.name,r.a.createElement("td",null,r.a.createElement(h.b,{to:{pathname:"/user/user-order/show",id:t}},"show"),r.a.createElement("br",null),r.a.createElement(h.b,{to:{pathname:"/user/user-order/edit",id:t}},"edit")))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={userOrders:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user-order/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({userOrders:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.userOrders;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"User order list")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm",style:{marginTop:30}},r.a.createElement(k,null),e.map(function(e){return r.a.createElement(S,{key:e.id,userOrder:e})})),r.a.createElement("div",{className:"new"},r.a.createElement(h.b,{style:{display:"flex",justifyContent:"center"},to:"/user/user-order/new"},"Create new"))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeSenderDetails=a.handleChangeSenderDetails.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeRecipientDetails=a.handleChangeRecipientDetails.bind(Object(d.a)(Object(d.a)(a))),a.handleChangePackage=a.handleChangePackage.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeHeadquarters=a.handleChangeHeadquarters.bind(Object(d.a)(Object(d.a)(a))),a.handleSelectSender=a.handleSelectSender.bind(Object(d.a)(Object(d.a)(a))),a.handleSelectRecipient=a.handleSelectRecipient.bind(Object(d.a)(Object(d.a)(a))),a.fetchHeadquarters=a.fetchHeadquarters.bind(Object(d.a)(Object(d.a)(a))),a.fetchDistricts=a.fetchDistricts.bind(Object(d.a)(Object(d.a)(a))),a.state={userOrder:{number:"",description:"",comments:"",headquarters:"",package:{weight:"",width:"",height:"",length:""},senderDetails:{name:"",surname:"",city:"",street:"",houseNumber:"",apartmentNumber:"",email:"",district:"",phoneNumber:""},recipientDetails:{name:"",surname:"",city:"",street:"",houseNumber:"",apartmentNumber:"",email:"",district:"",phoneNumber:""}},allHeadquarters:[],allDistrict:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChangeBase",value:function(e){console.log(this.state);var t=e.target.value,a=e.target.name,n=this.state.userOrder;n[a]=t,this.setState({userOrder:n}),console.log(this.state)}},{key:"handleChangePackage",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.package;n[a]=t,this.setState({packageValue:n})}},{key:"handleChangeSenderDetails",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.senderDetails;n[a]=t,this.setState({senderDetails:n})}},{key:"handleChangeRecipientDetails",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.recipientDetails;n[a]=t,this.setState({recipientDetails:n})}},{key:"handleChangeHeadquarters",value:function(e){var t=this.state.userOrder;t.headquarters=e.target.value,this.setState({userOrder:t})}},{key:"handleSelectSender",value:function(e){var t=e.target.value,a=this.state.userOrder;a.senderDetails.district=t,this.setState({userOrder:a})}},{key:"handleSelectRecipient",value:function(e){var t=this.state.userOrder;t.recipientDetails.district=e.target.value,this.setState({userOrder:t})}},{key:"fetchHeadquarters",value:function(){var e=this;fetch("http://localhost:8000/api/headquarters/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({allHeadquarters:t})}).catch(function(e){return console.log(e)})}},{key:"fetchDistricts",value:function(){var e=this;fetch("http://localhost:8000/api/district/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({allDistrict:t})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchHeadquarters(),this.fetchDistricts()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.userOrder);fetch("http://localhost:8000/api/user-order/new",{method:"post",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(201===e.status)return t.props.history.push("/user/user-order"),e;if(400===e.status)return e;throw new Error("Something went wrong...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid "},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:"30px"}},"Create user order"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row row-width"},r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"lightblue"}},"empty"),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"red"}}," ",r.a.createElement("strong",null,"Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"number",name:"number",onChange:this.handleChangeBase}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Description:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"description",name:"description",onChange:this.handleChangeBase}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Headquarters:")),r.a.createElement("select",{name:"headquarters",onChange:this.handleChangeHeadquarters},this.state.allHeadquarters.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Comments:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"comments",name:"comments",onChange:this.handleChangeBase}))),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"lightblue"}},r.a.createElement("strong",null,"Package:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Weight:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"weight",name:"weight",onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Height:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"height",name:"height",onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Length:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"length",name:"length",onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Width:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"width",name:"width",onChange:this.handleChangePackage})))),r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"red"}},"empty")),r.a.createElement("div",{className:"row row-width"},r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"lightblue"}},"empty"),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"red"}}," ",r.a.createElement("strong",null,"Sender details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Name:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Surname:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"surname",name:"surname",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"City:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"city",name:"city",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street"},"Street:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"street",name:"street",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"House number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"houseNumber",name:"houseNumber",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Apartment number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"apartmentNumber",name:"apartmentNumber",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Phone number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"E-mail:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"email",name:"email",onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"District:")),r.a.createElement("select",{name:"senderDetailsDistrict",onChange:this.handleSelectSender},this.state.allDistrict.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"lightblue"}}," ",r.a.createElement("strong",null,"Recipient details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"surname"},"Surname:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"surname",name:"surname",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"city",name:"city",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street"},"Street:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"street",name:"street",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"houseNumber"},"House number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"houseNumber",name:"houseNumber",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"apartmentNumber"},"Apartment number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"apartmentNumber",name:"apartmentNumber",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"E-mail:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"email",name:"email",onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"district"},"District:")),r.a.createElement("select",{name:"recipientDetailsDistrict",onChange:this.handleSelectRecipient},this.state.allDistrict.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"red"}},"empty")),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Save")),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(h.b,{to:"/user",style:{textAlign:"center"}},"back to list"),r.a.createElement(h.b,{to:"",style:{textAlign:"center"}},"logout")))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleClickDelete=a.handleClickDelete.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClickDelete",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:8000/api/user-order/"+this.props.id,{method:"delete",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(204===e.status)return e;throw new Error("Something went wrong...")}).then(function(e){t.props.history.push("/user/user-order")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.handleClickDelete},"delete")}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={userOrder:{headquarters:{},package:{},senderDetails:{},recipientDetails:{},status:"",courier:{user:{}}}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user-order/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({userOrder:{id:t.id,number:t.number,description:t.description,comments:t.comments,headquarters:t.headquarters,package:t.package,senderDetails:t.sender_details,recipientDetails:t.recipient_details,status:t.status,courier:{user:t.user}}})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.userOrder,t=e.id,a=e.number,n=e.description,l=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"User order show")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm"},r.a.createElement(k,null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,this.state.userOrder.headquarters.name),r.a.createElement("tr",null,r.a.createElement("td",null," weigth:"),r.a.createElement("td",null," ",this.state.userOrder.package.weight)),r.a.createElement("tr",null,r.a.createElement("td",null," width:"),r.a.createElement("td",null," ",this.state.userOrder.package.width)),r.a.createElement("tr",null,r.a.createElement("td",null," height:"),r.a.createElement("td",null," ",this.state.userOrder.package.height)),r.a.createElement("tr",null,r.a.createElement("td",null," length:"),r.a.createElement("td",null," ",this.state.userOrder.package.length)),r.a.createElement("td",null,this.state.userOrder.senderDetails.name),r.a.createElement("td",null,this.state.userOrder.recipientDetails.name),r.a.createElement("td",null,this.state.userOrder.status),r.a.createElement("td",null,this.state.userOrder.courier.user.name),r.a.createElement("td",null,r.a.createElement(h.b,{to:"/user"}," back to list "),r.a.createElement(h.b,{to:{pathname:"/user/user-order/edit",id:t}},"edit"),r.a.createElement(P,Object.assign({},this.props,{accessToken:this.props.accessToken,id:this.props.location.id}))))))))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeSenderDetails=a.handleChangeSenderDetails.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeRecipientDetails=a.handleChangeRecipientDetails.bind(Object(d.a)(Object(d.a)(a))),a.handleChangePackage=a.handleChangePackage.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeHeadquarters=a.handleChangeHeadquarters.bind(Object(d.a)(Object(d.a)(a))),a.handleSelectSenderDistrict=a.handleSelectSenderDistrict.bind(Object(d.a)(Object(d.a)(a))),a.handleSelectRecipientDistrict=a.handleSelectRecipientDistrict.bind(Object(d.a)(Object(d.a)(a))),a.fetchHeadquarters=a.fetchHeadquarters.bind(Object(d.a)(Object(d.a)(a))),a.fetchDistricts=a.fetchDistricts.bind(Object(d.a)(Object(d.a)(a))),a.getUserOrderEditValues=a.getUserOrderEditValues.bind(Object(d.a)(Object(d.a)(a))),a.state={userOrder:{number:"",description:"",comments:"",headquarters:"",package:{weight:"",width:"",height:"",length:""},senderDetails:{name:"",surname:"",city:"",street:"",houseNumber:"",apartmentNumber:"",email:"",district:"",phoneNumber:""},recipientDetails:{name:"",surname:"",city:"",street:"",houseNumber:"",apartmentNumber:"",email:"",district:"",phoneNumber:""}},allHeadquarters:[],allDistrict:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChangeBase",value:function(e){console.log(this.state);var t=e.target.value,a=e.target.name,n=this.state.userOrder;n[a]=t,this.setState({userOrder:n}),console.log(this.state)}},{key:"handleChangePackage",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.package;n[a]=t,this.setState({packageValue:n})}},{key:"handleChangeSenderDetails",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.senderDetails;n[a]=t,this.setState({senderDetails:n})}},{key:"handleChangeRecipientDetails",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.userOrder.recipientDetails;n[a]=t,this.setState({recipientDetails:n})}},{key:"handleChangeHeadquarters",value:function(e){var t=this.state.userOrder;t.headquarters=e.target.value,this.setState({userOrder:t})}},{key:"handleSelectSenderDistrict",value:function(e){var t=this.state.userOrder;t.senderDetails.district=e.target.value,this.setState({userOrder:t})}},{key:"handleSelectRecipientDistrict",value:function(e){var t=this.state.userOrder;t.recipientDetails.district=e.target.value,this.setState({userOrder:t})}},{key:"fetchHeadquarters",value:function(){var e=this;fetch("http://localhost:8000/api/headquarters/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({allHeadquarters:t})}).catch(function(e){return console.log(e)})}},{key:"fetchDistricts",value:function(){var e=this;fetch("http://localhost:8000/api/district/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({allDistrict:t})}).catch(function(e){return console.log(e)})}},{key:"getUserOrderEditValues",value:function(){var e=this;fetch("http://localhost:8000/api/user-order/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({userOrder:{number:t.number,description:t.description,comments:t.comments,headquarters:t.headquarters.id,package:{weight:t.package.weight,width:t.package.width,height:t.package.height,length:t.package.length},senderDetails:{name:t.sender_details.name,surname:t.sender_details.surname,city:t.sender_details.city,street:t.sender_details.street,houseNumber:t.sender_details.house_number,apartmentNumber:t.sender_details.apartment_number,email:t.sender_details.email,district:t.sender_details.district.id,phoneNumber:t.sender_details.phone_number},recipientDetails:{name:t.recipient_details.name,surname:t.recipient_details.surname,city:t.recipient_details.city,street:t.recipient_details.street,houseNumber:t.recipient_details.house_number,apartmentNumber:t.recipient_details.apartment_number,email:t.recipient_details.email,district:t.recipient_details.district.id,phoneNumber:t.recipient_details.phone_number}}})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchHeadquarters(),this.fetchDistricts(),this.getUserOrderEditValues()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.userOrder);fetch("http://localhost:8000/api/user-order/"+this.props.location.id+"/edit/user",{method:"put",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(200===e.status)return t.props.history.push("/user/user-order"),e;if(400===e.status)return e;throw new Error("Something went wrong...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.userOrder,t=e.number,a=e.description,n=e.comments,l=e.senderDetails,s=e.recipientDetails;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid "},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:"30px"}},"User Order Edit"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row row-width"},r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"lightblue"}},"empty"),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"red"}}," ",r.a.createElement("strong",null,"Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"number",name:"number",value:t,onChange:this.handleChangeBase}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Description:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"description",name:"description",value:a,onChange:this.handleChangeBase}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Headquarters:")),r.a.createElement("select",{name:"headquarters",value:this.state.userOrder.headquarters,onChange:this.handleChangeHeadquarters},this.state.allHeadquarters.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Comments:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"comments",name:"comments",value:n,onChange:this.handleChangeBase}))),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"lightblue"}},r.a.createElement("strong",null,"Package:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Weight:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"weight",name:"weight",value:this.state.userOrder.package.weight,onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Height:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"height",name:"height",value:this.state.userOrder.package.height,onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Length:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"length",name:"length",value:this.state.userOrder.package.length,onChange:this.handleChangePackage}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Width:")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",id:"width",name:"width",value:this.state.userOrder.package.width,onChange:this.handleChangePackage})))),r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"red"}},"empty")),r.a.createElement("div",{className:"row row-width"},r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"lightblue"}},"empty"),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"red"}}," ",r.a.createElement("strong",null,"Sender details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Name:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"name",name:"name",value:l.name,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Surname:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"surname",name:"surname",value:l.surname,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"City:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"city",name:"city",value:l.city,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street"},"Street:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"street",name:"street",value:l.street,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"House number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"houseNumber",name:"houseNumber",value:l.houseNumber,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Apartment number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"apartmentNumber",name:"apartmentNumber",value:l.apartmentNumber,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"Phone number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:l.phoneNumber,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"E-mail:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"email",name:"email",value:l.email,onChange:this.handleChangeSenderDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user"},"District:")),r.a.createElement("select",{name:"senderDetailsDistrict",value:this.state.userOrder.senderDetails.district,onChange:this.handleSelectSenderDistrict},this.state.allDistrict.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12",style:{backgroundColor:"lightblue"}}," ",r.a.createElement("strong",null,"Recipient details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"name",name:"name",value:s.name,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"surname"},"Surname:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"surname",name:"surname",value:s.surname,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"city",name:"city",value:s.city,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street"},"Street:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"street",name:"street",value:s.street,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"houseNumber"},"House number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"houseNumber",name:"houseNumber",value:s.houseNumber,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"apartmentNumber"},"Apartment number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"apartmentNumber",name:"apartmentNumber",value:s.apartmentNumber,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone number:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:s.phoneNumber,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"E-mail:")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"email",name:"email",value:s.email,onChange:this.handleChangeRecipientDetails}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"district"},"District:")),r.a.createElement("select",{name:"recipientDetailsDistrict",value:this.state.userOrder.recipientDetails.district,onChange:this.handleSelectRecipientDistrict},this.state.allDistrict.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-lg-3 col-md-2 col-sm-2 col-12",style:{backgroundColor:"red"}},"empty")),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Update")),r.a.createElement("div",{className:"text-center"},r.a.createElement(h.b,{to:"/user",style:{textAlign:"center"}},"back to list")),r.a.createElement("div",{className:"text-center"},r.a.createElement(P,Object.assign({},this.props,{accessToken:this.props.accessToken,id:this.props.location.id}))))))}}]),t}(n.Component),B=function(){return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Surname"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"PhoneNumber"),r.a.createElement("th",null,"E-mail"),r.a.createElement("th",null,"District"),r.a.createElement("th",null,"Actions")))},_=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.courier.user,t=e.id,a=e.name,n=e.surname,l=e.role,s=e.phone_number,c=e.username,i=this.props.courier.district.name,o=this.props.courier.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,r.a.createElement(h.b,{to:{pathname:"/user/courier/show",id:o}},"show"),r.a.createElement("br",null),r.a.createElement(h.b,{to:{pathname:"/user/courier/edit",id:o}},"edit")))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={couriers:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/courier/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({couriers:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.couriers;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"Courier list")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm"},r.a.createElement(B,null),e.map(function(e){return r.a.createElement(_,{key:e.id,courier:e})})),r.a.createElement("div",{className:"text-center"},r.a.createElement(h.b,{to:"/user/courier/new"},"Create new"))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword=a.handleChangeConfirmPassword.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword2=a.handleChangeConfirmPassword2.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeDistrict=a.handleChangeDistrict.bind(Object(d.a)(Object(d.a)(a))),a.state={courier:{user:{name:"",surname:"",confirmPassword:{first:"",second:""},phoneNumber:"",email:""},district:""},allDistrict:[],error:{confirmPasswordFirst:[],email:[]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/district/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({allDistrict:t})})}},{key:"handleChangeBase",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.courier;n.user[a]=t,this.setState({courier:n})}},{key:"handleChangeConfirmPassword",value:function(e){var t=e.target.value,a=this.state.courier;a.user.confirmPassword.first=t,this.setState({courier:a})}},{key:"handleChangeConfirmPassword2",value:function(e){var t=e.target.value,a=this.state.courier;a.user.confirmPassword.second=t,this.setState({courier:a})}},{key:"handleChangeDistrict",value:function(e){var t=e.target.value,a=this.state.courier;a.district=t,this.setState({courier:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.courier);fetch("http://localhost:8000/api/courier/new",{method:"post",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(201===e.status)return t.props.history.push("/user/courier"),e;if(400===e.status)return e.json().then(function(e){t.handleErrorForm(e)});throw new Error("Someting went wrong...")}).catch(function(e){return console.log(e)})}},{key:"handleErrorForm",value:function(e){var t=this.state.error;e.form.children.user.children.confirmPassword.children.first.errors[0]?t.confirmPasswordFirst[0]=e.form.children.user.children.confirmPassword.children.first.errors[0]:t.confirmPasswordFirst=[],this.setState({error:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:30}},"Create new courier"),r.a.createElement("div",{className:"d-flex justify-content-center",style:{paddingTop:30,paddingLeft:30,paddingRight:30}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"user"},"Name"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"surname"},"Surname"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"surname",name:"surname",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"first",onChange:this.handleChangeConfirmPassword})))),0===this.state.error.confirmPasswordFirst.length?"":r.a.createElement("span",{style:{color:"red"}},this.state.error.confirmPasswordFirst[0]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"second",onChange:this.handleChangeConfirmPassword2})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone Number"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"email"},"E-mail"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"email"},"District:"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("select",{name:"district",value:this.state.courier.district,onChange:this.handleChangeDistrict},this.state.allDistrict.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Save")))),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(h.b,{to:"/user/courier",style:{textAlign:"center"}},"back to list"),r.a.createElement(h.b,{to:"/login",style:{textAlign:"center"}},"logout"))))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleClickDelete=a.handleClickDelete.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClickDelete",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:8000/api/courier/"+this.props.id,{method:"delete",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(204===e.status)return e;throw new Error("Something went wrong...")}).then(function(e){t.props.history.push("/user/courier")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.handleClickDelete},"delete")}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={courier:{user:{},district:{}}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/courier/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({courier:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){console.log(this.props.accessToken);var e=this.state.courier.user,t=e.id,a=e.name,n=e.surname,l=e.role,s=e.phone_number,c=e.username,i=this.state.courier.district.name,o=this.state.courier.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"Courier show")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm"},r.a.createElement(g,null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,r.a.createElement(h.b,{to:"/user/courier"}," back to list "),r.a.createElement(h.b,{to:{pathname:"/user/courier/edit",id:o}},"edit"),r.a.createElement(R,Object.assign({},this.props,{accessToken:this.props.accessToken,id:this.props.location.id}))))))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleErrorForm=function(e){var t=a.state.error;e.form.children.user.children.confirmPassword.children.first.errors[0]?t.confirmPasswordFirst[0]=e.form.children.user.children.confirmPassword.children.first.errors[0]:t.confirmPasswordFirst=[],a.setState({error:t})},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeBase=a.handleChangeBase.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword=a.handleChangeConfirmPassword.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeConfirmPassword2=a.handleChangeConfirmPassword2.bind(Object(d.a)(Object(d.a)(a))),a.state={courier:{user:{name:"",surname:"",confirmPassword:{first:"",second:""},phoneNumber:"",email:""},district:""},error:{confirmPasswordFirst:[],email:[]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.location),fetch("http://localhost:8000/api/courier/"+this.props.location.id,{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({courier:{user:{name:t.user.name,surname:t.user.surname,confirmPassword:{first:t.user.password,second:t.user.password},phoneNumber:t.user.phone_number,email:t.user.email_canonical},district:t.district.id}})}).catch(function(e){return console.log(e)})}},{key:"handleChangeBase",value:function(e){var t=e.target.value,a=e.target.name,n=this.state.courier;n.user[a]=t,this.setState({courier:n})}},{key:"handleChangeConfirmPassword",value:function(e){var t=e.target.value,a=this.state.courier;a.user.confirmPassword.first=t,this.setState({courier:a})}},{key:"handleChangeConfirmPassword2",value:function(e){var t=e.target.value,a=this.state.courier;a.user.confirmPassword.second=t,this.setState({courier:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.courier);fetch("http://localhost:8000/api/courier/"+this.props.location.id+"/edit",{method:"put",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(200===e.status)return t.props.history.push("/user/courier"),e;if(400===e.status)return e.json().then(function(e){t.handleErrorForm(e)});throw new Error("Something went wrong...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:30}},"Courier Edit"),r.a.createElement("div",{className:"d-flex justify-content-center",style:{paddingTop:30,paddingLeft:30,paddingRight:30}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"user"},"Name"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"name",name:"name",value:this.state.courier.user.name,onChange:this.handleChangeBase})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"surname"},"Surname"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"surname",name:"surname",onChange:this.handleChangeBase,value:this.state.courier.user.surname})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"first",onChange:this.handleChangeConfirmPassword,value:this.state.courier.user.confirmPassword.first})))),0===this.state.error.confirmPasswordFirst.length?"":r.a.createElement("span",{style:{color:"red"}},this.state.error.confirmPasswordFirst[0]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"password",id:"password",name:"second",onChange:this.handleChangeConfirmPassword2,value:this.state.courier.user.confirmPassword.second})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone Number"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:this.handleChangeBase,value:this.state.courier.user.phoneNumber})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"email"},"E-mail"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:this.handleChangeBase,value:this.state.courier.user.email})))),r.a.createElement("div",{className:"text-center",style:{marginTop:20}},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Update")),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(h.b,{to:"/user/courier",style:{textAlign:"center"}},"back to list")))))))}}]),t}(n.Component),U=function(){return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Comments"),r.a.createElement("th",null,"Headquarters"),r.a.createElement("th",null,"Package "),r.a.createElement("th",null,"SenderDetails"),r.a.createElement("th",null,"RecipientDetails"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Courier"),r.a.createElement("th",null,"Actions")))},M=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.courierOrder,t=e.id,a=e.number,n=e.description,l=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,this.props.courierOrder.headquarters.name),r.a.createElement("td",null," ","weigth: ",this.props.courierOrder.package.weight,"width:",this.props.courierOrder.package.width,"height:",this.props.courierOrder.package.height,"length: ",this.props.courierOrder.package.length),r.a.createElement("td",null,this.props.courierOrder.sender_details.name),r.a.createElement("td",null,this.props.courierOrder.recipient_details.name),r.a.createElement("td",null,this.props.courierOrder.status),r.a.createElement("td",null,null===this.props.courierOrder.courier?r.a.createElement("span",{style:{color:"red"}}," courier expired"):this.props.courierOrder.courier.user.name),r.a.createElement("td",null,r.a.createElement(h.b,{to:{pathname:"/user/user-order/status",id:t}},"manage status")))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={courierOrders:[],user:{}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getUserRole",value:function(){var e=this;fetch("http://localhost:8000/api/current-user/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return console.log(e),e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({user:t})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/courier-order/",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({courierOrders:t})}).catch(function(e){return console.log(e)}),this.getUserRole()}},{key:"render",value:function(){var e=this.state.courierOrders,t=this.state.user.role;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4"},"ROLE_ADMIN"===t?"Courier order index":"Courier order list")),r.a.createElement("table",{className:"table table-striped table-hover table-sm table-responsive-sm",style:{marginTop:30}},r.a.createElement(U,null),e.map(function(e){return r.a.createElement(M,{key:e.id,courierOrder:e})}))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeStatus=a.handleChangeStatus.bind(Object(d.a)(Object(d.a)(a))),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={changeStatus:{status:""},userOrderStatuses:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChangeStatus",value:function(e){var t=e.target.value,a=this.state.changeStatus;a.status=t,this.setState({changeStatus:a})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/api/user-order/"+this.props.location.id+"/status",{method:"get",headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(e.ok)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({userOrderStatuses:t}),e.setState({changeStatus:{status:e.state.userOrderStatuses[0].value}})}).catch(function(e){return console.log(e)})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state.changeStatus);fetch("http://localhost:8000/api/user-order/"+this.props.location.id+"/status",{method:"put",body:a,headers:new Headers({Authorization:"Bearer "+this.props.accessToken,"Content-Type":"application/json"})}).then(function(e){if(200===e.status)return t.props.history.push("/user/courier-order"),e;if(400===e.status)return e;throw new Error("Something went wrong...")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h1",{className:"display-4 d-flex justify-content-center",style:{paddingTop:"30px"}},"Edit status"),r.a.createElement("div",{className:"d-flex justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{htmlFor:"user_order_admin_status_status",className:"required"},"Status"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"float-left"},r.a.createElement("select",{name:"status",onChange:this.handleChangeStatus,value:this.state.changeStatus.status},this.state.userOrderStatuses.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))))),r.a.createElement("button",{type:"submit",className:"btn d-flex justify-content-center btn btn-primary",style:{margin:"0 185px",marginTop:"20px"}},"Save"),r.a.createElement("input",{type:"hidden",id:"user_order_admin_status__token",name:"user_order_admin_status[_token]",defaultValue:"9pJ3SzXh2RDu2SNAwEBGQS_5UEkxFiO3XPQdwUCyNNM"}))),r.a.createElement("div",{className:"d-flex flex-column",style:{paddingTop:"10px"}},r.a.createElement("a",{href:"/user-order/",style:{textAlign:"center"}},"back to list"))))))}}]),t}(n.Component),J=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{path:"/user/",exact:!0,render:function(){return r.a.createElement(y,e.props)}}),r.a.createElement(p.a,{path:"/user/new",exact:!0,render:function(){return r.a.createElement(N,e.props)}}),r.a.createElement(p.a,{path:"/user/show",render:function(t){var a=t.location;return r.a.createElement(O,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/edit",render:function(t){var a=t.location;return r.a.createElement(j,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/user-order",exact:!0,render:function(){return r.a.createElement(x,e.props)}}),r.a.createElement(p.a,{path:"/user/user-order/new",render:function(t){var a=t.location;return r.a.createElement(D,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/user-order/show",render:function(t){var a=t.location;return r.a.createElement(F,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/user-order/edit",render:function(t){var a=t.location;return r.a.createElement(T,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/courier",exact:!0,render:function(){return r.a.createElement(A,e.props)}}),r.a.createElement(p.a,{path:"/user/courier/new",render:function(){return r.a.createElement(H,e.props)}}),r.a.createElement(p.a,{path:"/user/courier/show",render:function(t){var a=t.location;return r.a.createElement(q,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/courier/edit",render:function(t){var a=t.location;return r.a.createElement(z,Object.assign({},e.props,{location:a}))}}),r.a.createElement(p.a,{path:"/user/courier-order",render:function(){return r.a.createElement(L,e.props)}}),r.a.createElement(p.a,{path:"/user/user-order/status",render:function(t){var a=t.location;return r.a.createElement(I,Object.assign({},e.props,{location:a}))}}))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).setAccessToken=a.setAccessToken.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setAccessToken",value:function(e){localStorage.setItem("accessToken",e)}},{key:"getAccessToken",value:function(){return localStorage.getItem("accessToken")}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{path:"/user",render:function(){return r.a.createElement(E,{accessToken:e.getAccessToken()})}}),r.a.createElement(p.a,{path:"/login",render:function(t){return r.a.createElement(f,Object.assign({},t,{setAccessToken:e.setAccessToken}))}}),r.a.createElement(p.a,{path:"/",render:function(t){return r.a.createElement(J,Object.assign({},t,{accessToken:e.getAccessToken()}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.a1129991.chunk.js.map